drop table if exists title, departments, employee;

CREATE TABLE title(
	title_id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	job_title varchar(100) NOT NULL,
	salary int NOT NULL
);


INSERT INTO title(job_title, salary) VALUES ('----------', 0);
INSERT INTO title(job_title, salary) VALUES ('Инженер', 60000);
INSERT INTO title(job_title, salary) VALUES ('Технолог', 50000);
INSERT INTO title(job_title, salary) VALUES ('Контролер', 40000);
INSERT INTO title(job_title, salary) VALUES ('Бухгалтер', 45000);
INSERT INTO title(job_title, salary) VALUES ('Кадровик', 38000);




CREATE TABLE departments(
	department_id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	manager_id int ,
	department_name varchar(100) NOT NULL,
	phone varchar(100) NOT NULL,
	email varchar(100) NOT NULL
);


INSERT INTO departments(manager_id, department_name, phone, email) VALUES (1, '----------', '----------', '----------');
INSERT INTO departments(manager_id, department_name, phone, email) VALUES (2, 'Техбюро', '+7(495)111 11 11', 't.o@company.ru');
INSERT INTO departments(manager_id, department_name, phone, email) VALUES (6, 'Служба качества', '+7(495)111 11 22', 'q.s@company.ru');
INSERT INTO departments(manager_id, department_name, phone, email) VALUES (7, 'Бухгалтерия', '+7(495)111 11 33', 'a@company.ru');
INSERT INTO departments(manager_id, department_name, phone, email) VALUES (9, 'Отдел кадров', '+7(495)111 11 44', 'p.d@company.ru');





CREATE TABLE employee(
	employee_id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	fio varchar(100) NOT NULL,
	department_id int NOT NULL REFERENCES departments(department_id),
	title_id int NOT NULL REFERENCES title(title_id),
	extratitle_id int NOT NULL REFERENCES title(title_id)
);


INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('----------', 1, 1, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Смирнов Александр', 2, 2, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Семенов Алексей', 2, 3, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Петров Василий', 2, 3, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Сидорова Дарья', 3, 4, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Алексеев Михаил', 3, 2, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Федорова Елена', 4, 5, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Новикова Наталья', 4, 5, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Павлова Мария', 5, 6, 1);
INSERT INTO employee(fio, department_id, title_id, extratitle_id) VALUES ('Александров Кирилл', 3, 4, 1);
